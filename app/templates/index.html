<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BookBuddy - AI Book Recommendation Chatbot</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/2232/2232688.png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    
    <!-- Swiper CSS for carousels -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    
    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="container">
        <a href="/" class="logo">
          <i class="fas fa-book-open"></i> BookBuddy
        </a>
        <div class="nav-links">
          <a href="#trending">Trending</a>
          <a href="#top-rated">Top Rated</a>
          <a href="#popular">Popular</a>
          <a href="#about">About</a>
        </div>
        <button class="search-btn">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-content" data-aos="fade-up">
        <h1>Discover Your Next Great Read</h1>
        <p>BookBuddy uses AI to recommend books tailored to your interests</p>
        <button onclick="openChatBot()" class="start-chat-btn">
          <i class="fas fa-robot"></i> Chat with BookBuddy
        </button>
      </div>
      <div class="hero-overlay"></div>
    </section>

    <!-- Search Modal -->
    <div class="search-modal">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Search for books, authors, or genres...">
        <button id="searchBtn"><i class="fas fa-search"></i></button>
        <button class="close-search-btn"><i class="fas fa-times"></i></button>
      </div>
      <div class="search-results" id="searchResults"></div>
    </div>

    <!-- Trending Books Section -->
    <section class="books-section" id="trending" data-aos="fade-up">
      <div class="container">
        <h2 class="section-title">Trending Now <i class="fas fa-fire"></i></h2>
        <div class="swiper trending-swiper">
          <div class="swiper-wrapper">
            {% for book in trending_books %}
            <div class="swiper-slide">
              <div class="book-card">
                <div class="book-cover">
                  <img src="{{ book.cover_url if book.cover_url else url_for('static', filename='images/default-cover.jpg') }}" alt="{{ book.title }}">
                </div>
                <div class="book-info">
                  <h3 class="book-title">{{ book.title }}</h3>
                  <button class="details-btn" data-id="{{ book.id }}">Details</button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>

    <!-- Top Rated Books Section -->
    <section class="books-section" id="top-rated" data-aos="fade-up">
      <div class="container">
        <h2 class="section-title">Top Rated <i class="fas fa-star"></i></h2>
        <div class="swiper top-rated-swiper">
          <div class="swiper-wrapper">
            {% for book in top_rated_books %}
            <div class="swiper-slide">
              <div class="book-card">
                <div class="book-cover">
                  <img src="{{ book.cover_url if book.cover_url else url_for('static', filename='images/default-cover.jpg') }}" alt="{{ book.title }}">
                </div>
                <div class="book-info">
                  <h3 class="book-title">{{ book.title }}</h3>
                  <button class="details-btn" data-id="{{ book.id }}">Details</button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>

    <!-- Popular Books Section -->
    <section class="books-section" id="popular" data-aos="fade-up">
      <div class="container">
        <h2 class="section-title">Popular Books <i class="fas fa-thumbs-up"></i></h2>
        <div class="swiper popular-swiper">
          <div class="swiper-wrapper">
            {% for book in popular_books %}
            <div class="swiper-slide">
              <div class="book-card">
                <div class="book-cover">
                  <img src="{{ book.cover_url if book.cover_url else url_for('static', filename='images/default-cover.jpg') }}" alt="{{ book.title }}">
                </div>
                <div class="book-info">
                  <h3 class="book-title">{{ book.title }}</h3>
                  <button class="details-btn" data-id="{{ book.id }}">Details</button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features-section" id="about" data-aos="fade-up">
      <div class="container">
        <h2 class="section-title">Why BookBuddy?</h2>
        <div class="features-grid">
          <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
            <div class="feature-icon">
              <i class="fas fa-robot"></i>
            </div>
            <h3>AI-Powered</h3>
            <p>Our advanced AI understands your preferences and recommends books you'll love.</p>
          </div>
          <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
            <div class="feature-icon">
              <i class="fas fa-globe"></i>
            </div>
            <h3>Real-Time Data</h3>
            <p>Get the latest book information from multiple sources including Google Books and Open Library.</p>
          </div>
          <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
            <div class="feature-icon">
              <i class="fas fa-search"></i>
            </div>
            <h3>Smart Search</h3>
            <p>Find books by title, author, or genre with our intelligent search system.</p>
          </div>
          <div class="feature-card" data-aos="fade-up" data-aos-delay="400">
            <div class="feature-icon">
              <i class="fas fa-fire"></i>
            </div>
            <h3>Trending Books</h3>
            <p>Stay updated with the latest bestsellers and trending books in real-time.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Book Details Modal -->
    <div class="book-details-modal">
      <div class="modal-content">
        <button class="close-modal-btn"><i class="fas fa-times"></i></button>
        <div class="book-details-container">
          <div class="book-cover-large">
            <img id="modalBookCover" src="{{ url_for('static', filename='images/default-cover.jpg') }}" alt="Book Cover">
          </div>
          <div class="book-details">
            <h2 id="modalBookTitle">Loading...</h2>
            <div id="modalBookDetails">
              <p>Loading book details...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Chatbot Button -->
    <button class="chatbotbutton" onclick="openChatBot()">
      <i class="fas fa-robot"></i>
    </button>

    <!-- Chatbot Container -->
    <div class="chatbot-container">
      <div class="chatbox" id="chatbox">
        <div class="header">
          <h4><i class="fas fa-robot"></i> BookBuddy</h4>
          <button class="close-btn" onclick="closeChatBot()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="body" id="chatbody">
          <div class="message isbot">
            <p class="text">
              Hello! I'm BookBuddy, your AI book recommendation assistant. I can help you find your next great read based on authors, titles, genres, or popularity.
            </p>
          </div>
          <div class="message isbot">
            <p class="text">
              Try asking me things like:
            </p>
            <ul class="suggestion-list">
              <li>Find books by Stephen King</li>
              <li>Show me popular fantasy books</li>
              <li>What are the highest rated books?</li>
              <li>Find books similar to Harry Potter</li>
              <li>Tell me about The Great Gatsby</li>
              <li>What's trending now?</li>
            </ul>
          </div>
        </div>
        <div class="warning-container">
          <i class="fas fa-lightbulb"></i>
          <p>Type 'help' anytime to see what I can do!</p>
        </div>
        <div class="footer">
          <input type="text" id="userInput" placeholder="Ask me about books..." />
          <button id="send">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo">
            <i class="fas fa-book-open"></i> BookBuddy
          </div>
          <div class="footer-links">
            <a href="#trending">Trending</a>
            <a href="#top-rated">Top Rated</a>
            <a href="#popular">Popular</a>
            <a href="#about">About</a>
          </div>
          <div class="social-links">
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-github"></i></a>
          </div>
        </div>
        <div class="copyright">
          &copy; 2023 BookBuddy. All rights reserved.
        </div>
      </div>
    </footer>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    
    <!-- AOS Animation Library -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
    <script src="{{ url_for('static', filename='js/parallax.js') }}"></script>
    
    <script>
      // Initialize AOS
      AOS.init({
        duration: 800,
        easing: 'ease-in-out',
        once: true
      });
    </script>
  </body>
</html>
